import{r as te,k as oe,a as ae,u as le,f as ne,x as ie,P as ue,b as se,$ as re}from"./index-ec104b6c.js";import{e as me,d as Z,c as F,s as de,g as v,w as L,o as q,b as ce,m as e,x as t,a as z,k as O,E as T,j as x,F as pe,G as he,A as ye,f as fe,v as d,n as be,t as ve,J as R,K as j,Z as g,D as _e,C as Pe,L as we,$ as Se,M as ge,_ as xe}from"./index-6c7202c1.js";const Ve=["position","size"],ke={class:"layui-input-number-input"},ze=me(Z({name:"LayInputNumber",props:{modelValue:{default:0},name:null,disabled:{type:Boolean,default:!1},disabledInput:{type:Boolean,default:!1},size:null,step:{default:1},position:null,min:{default:-1/0},max:{default:1/0}},emits:["update:modelValue","change"],setup(p,{emit:f}){const u=p,{size:M}=function(o){return{size:F(()=>{const n=de("LayForm",{});return o.size||n.size||"md"})}}(u);let i=v(u.modelValue);L(i,o=>{u.max!==1/0&&o>u.max?i.value=u.max:u.min!==-1/0&&o<u.min?i.value=u.min:$(i.value)&&(_.value=Number(i.value),f("update:modelValue",_.value),f("change",_.value))}),L(()=>u.modelValue,o=>{o!==i.value&&(i.value=u.modelValue)});let V=0;const _=v(0),C=F(()=>!!u.disabled||(u.min!==-1/0?Number(u.min)>=i.value:void 0)),U=F(()=>!!u.disabled||(u.max!==1/0?Number(u.max)<=i.value:void 0)),B=function(){i.value=function(o,n){var s,c,S,P;try{s=o.toString().split(".")[1].length}catch{s=0}try{c=n.toString().split(".")[1].length}catch{c=0}if(P=Math.abs(s-c),S=Math.pow(10,Math.max(s,c)),P>0){var m=Math.pow(10,P);s>c?(o=Number(o.toString().replace(".","")),n=Number(n.toString().replace(".",""))*m):(o=Number(o.toString().replace(".",""))*m,n=Number(n.toString().replace(".","")))}else o=Number(o.toString().replace(".","")),n=Number(n.toString().replace(".",""));return(o+n)/S}(i.value,u.step)},I=function(){i.value=function(o,n){var s,c,S,P;try{s=o.toString().split(".")[1].length}catch{s=0}try{c=n.toString().split(".")[1].length}catch{c=0}if(P=Math.abs(s-c),S=Math.pow(10,Math.max(s,c)),P>0){var m=Math.pow(10,P);s>c?(o=Number(o.toString().replace(".","")),n=Number(n.toString().replace(".",""))*m):(o=Number(o.toString().replace(".",""))*m,n=Number(n.toString().replace(".","")))}else o=Number(o.toString().replace(".","")),n=Number(n.toString().replace(".",""));return(o-n)/S}(i.value,u.step)},N=function(o){w(),u.disabled||(V=setInterval(()=>o.call(V),150),o.call(V))},w=function(){clearInterval(V)},r=function(){$(i.value)?_.value=Number(i.value):i.value=_.value},$=function(o){return!isNaN(o)};return(o,n)=>(q(),ce("div",{class:"layui-input-number",position:p.position,size:z(M)},[e(T,{size:"lg",onMouseup:w,onMousedown:n[0]||(n[0]=s=>N(I)),onBlur:w,disabled:z(C),class:"layui-control-btn layui-subtraction-btn"},{default:t(()=>[e(z(O),{type:p.position==="right"?"layui-icon-down":"layui-icon-subtraction"},null,8,["type"])]),_:1},8,["disabled"]),x("div",ke,[e(he,{max:p.max,min:p.min,name:p.name,modelValue:z(i),"onUpdate:modelValue":n[1]||(n[1]=s=>pe(i)?i.value=s:i=s),readonly:p.disabledInput||p.disabled,disabled:p.disabledInput||p.disabled,onInput:r,type:"number"},null,8,["max","min","name","modelValue","readonly","disabled"])]),e(T,{size:"lg",onMouseup:w,onMousedown:n[2]||(n[2]=s=>N(B)),onBlur:w,disabled:z(U),class:"layui-control-btn layui-addition-btn"},{default:t(()=>[e(z(O),{type:p.position==="right"?"layui-icon-up":"layui-icon-addition"},null,8,["type"])]),_:1},8,["disabled"])],8,Ve))}}));const Ne={class:"table-box"},Ce={style:{padding:"20px"}},$e={style:{width:"97%","text-align":"right"}},Me=Z({__name:"index",setup(p){const f=v({address:"",identifying:"",name:""});function u(){f.value={address:"",identifying:"",name:""}}function M(){V.current=1,i()}const i=m=>{_.value=!0,setTimeout(()=>{_.value=!1},1e3)},V=ye({current:1,limit:10,total:100}),_=v(!1),C=v(),U=[{fixed:"left",type:"checkbox",title:"复选"},{title:"菜单名称",key:"name",customSlot:"name"},{title:"路由地址",key:"routePath"},{title:"组件路径",key:"compontPath"},{title:"排序",width:"120px",key:"sort"},{title:"可见",key:"isShow"},{title:"类型",key:"type",customSlot:"type"},{title:"操作",key:"option",customSlot:"option"}],B=[{id:"10001",name:"工作空间",type:"目录",icon:"layui-icon-home",age:0,routePath:"/workspace",compontPath:"",isShow:"是",children:[{id:"10009",name:"工作台",type:"菜单",sort:1,icon:"layui-icon-util",routePath:"/workspace/workbench",compontPath:"/workspace/workbench",isShow:"是"},{id:"10012",name:"控制台",type:"菜单",sort:2,icon:"layui-icon-engine",routePath:"/workspace/console",compontPath:"/workspace/console",isShow:"是"},{id:"10012",name:"分析页",type:"菜单",sort:3,icon:"layui-icon-chart-screen",routePath:"/workspace/analysis",compontPath:"/workspace/analysis",isShow:"是"},{id:"10012",name:"监控页",type:"菜单",sort:4,icon:"layui-icon-find-fill",routePath:"/workspace/monitor",compontPath:"/workspace/monitor",isShow:"是"}]},{id:"10002",name:"表单页面",type:"目录",sort:1,icon:"layui-icon-table",routePath:"/form",compontPath:"",isShow:"是",children:[{id:"10015",name:"基础表单",type:"菜单",sort:1,icon:"layui-icon-form",routePath:"/form/base",compontPath:"/form/base",isShow:"是"},{id:"10016",name:"复杂表单",type:"菜单",sort:2,icon:"layui-icon-form",routePath:"/form/intricate",compontPath:"/form/intricate",isShow:"是"}]},{id:"10003",name:"列表页面",type:"目录",sort:3,icon:"layui-icon-align-left",routePath:"/table",compontPath:"",isShow:"是",children:[{id:"10017",name:"查询列表",type:"菜单",sort:1,icon:"layui-icon-search",routePath:"/table/base",compontPath:"/table/base",isShow:"是"},{id:"10018",name:"卡片列表",type:"菜单",sort:2,icon:"layui-icon-file-b",routePath:"/table/card",compontPath:"/table/card",isShow:"是"}]},{id:"10004",name:"结果页面",type:"目录",sort:4,icon:"layui-icon-template",routePath:"/result",compontPath:"",isShow:"是",children:[{id:"10019",name:"成功页面",type:"菜单",sort:1,icon:"layui-icon-success",routePath:"/result/success",compontPath:"/result/success",isShow:"是"},{id:"10020",name:"失败页面",type:"菜单",sort:2,icon:"layui-icon-error",routePath:"/result/failure",compontPath:"/result/failure",isShow:"是"}]},{id:"10005",icon:"layui-icon-unlink",name:"异常页面",type:"目录",sort:5,routePath:"/error",compontPath:"",isShow:"是",children:[{id:"10021",name:"403",type:"菜单",sort:1,icon:"layui-icon-not-found",routePath:"/error/403",compontPath:"/error/403",isShow:"是"},{id:"10022",name:"404",type:"菜单",sort:2,icon:"layui-icon-not-found",routePath:"/error/404",compontPath:"/error/404",isShow:"是"},{id:"10022",name:"500",type:"菜单",sort:3,icon:"layui-icon-not-found",routePath:"/error/500",compontPath:"/error/500",isShow:"是"}]},{id:"10006",name:"菜单嵌套",type:"目录",sort:6,icon:"layui-icon-app",routePath:"/menu",compontPath:"",isShow:"是",children:[{id:"10023",name:"二级菜单",type:"菜单",sort:1,icon:"layui-icon-component",routePath:"/menu/menu1",compontPath:"/menu/menu1",isShow:"是",children:[{id:"10023",name:"三级菜单1",type:"菜单",sort:1,icon:"layui-icon-template-one",routePath:"/menu/menu1/menu1",compontPath:"/menu/menu1/menu1",isShow:"是"},{id:"10023",name:"三级菜单2",type:"菜单",sort:2,icon:"layui-icon-template-one",routePath:"/menu/menu1/menu2",compontPath:"/menu/menu1/menu2",isShow:"是"}]},{id:"10024",name:"二级菜单",type:"菜单",sort:2,icon:"layui-icon-component",routePath:"/menu/menu2",compontPath:"/menu/menu2",isShow:"是",children:[{id:"10023",name:"三级菜单1",type:"菜单",sort:1,icon:"layui-icon-template-one",routePath:"/menu/menu2/menu1",compontPath:"/menu/menu2/menu1",isShow:"是"},{id:"10023",name:"三级菜单2",type:"菜单",sort:2,icon:"layui-icon-template-one",routePath:"/menu/menu2/menu2",compontPath:"/menu/menu2/menu2",isShow:"是"}]}]},{id:"10007",name:"内置指令",type:"目录",sort:7,icon:"layui-icon-test",routePath:"/directive",compontPath:"",isShow:"是",children:[{id:"10025",name:"权限指令",type:"菜单",sort:1,icon:"layui-icon-template",routePath:"/directive/permission",compontPath:"/directive/permission",isShow:"是"}]},{id:"10008",name:"外链页面",type:"外链",sort:8,icon:"layui-icon-link",routePath:"/page",compontPath:"",isShow:"是",children:[{id:"10027",name:"弹层外链",type:"外链",icon:"layui-icon-home",sort:1,routePath:"layui-icon-layer",compontPath:"layui-icon-layer",isShow:"是"},{id:"10028",name:"原生跳转",type:"外链",sort:2,icon:"layui-icon-layouts",routePath:"http://www.baidu.com",compontPath:"http://www.baidu.com",isShow:"是"}]},{id:"10008",name:"个人中心",type:"目录",sort:9,icon:"layui-icon-slider",routePath:"/enrollee",compontPath:"",isShow:"是",children:[{id:"10027",name:"我的资料",type:"菜单",icon:"layui-icon-home",sort:1,routePath:"/enrollee/profile",compontPath:"/enrollee/profile",isShow:"是"},{id:"10028",name:"我的消息",type:"菜单",sort:2,icon:"layui-icon-email",routePath:"/enrollee/message",compontPath:"/enrollee/message",isShow:"是"}]},{id:"10008",name:"系统管理",type:"目录",sort:10,icon:"layui-icon-set",routePath:"/system",compontPath:"",isShow:"是",children:[{id:"10027",name:"用户管理",type:"菜单",icon:"layui-icon-home",sort:1,routePath:"/system/user",compontPath:"/system/user",isShow:"是"},{id:"10028",name:"角色管理",type:"菜单",sort:2,icon:"layui-icon-group",routePath:"/system/role",compontPath:"/system/role",isShow:"是"},{id:"10028",name:"机构管理",type:"菜单",sort:3,icon:"layui-icon-transfer",routePath:"/system/organization",compontPath:"/system/organization",isShow:"是"}]}],I=function(){g.msg(C.value.getCheckData())},N=v(!1),w=function(m){N.value=m},r=v({name:"",type:"",sort:0,icon:"",routePath:"",compontPath:"",isShow:"是"}),$=v(),o=v(!1),n=v("新增"),s=(m,a)=>{if(n.value=m,a!=null){let b=JSON.parse(JSON.stringify(a));r.value=b}else r.value={name:"",type:"",sort:0,icon:"",routePath:"",compontPath:"",isShow:"是"};o.value=!o.value};function c(){g.confirm("您将删除所有选中的数据？",{title:"提示",btn:[{text:"确定",callback:m=>{g.msg("您已成功删除"),g.close(m)}},{text:"取消",callback:m=>{g.msg("您已取消操作"),g.close(m)}}]})}function S(){g.msg("保存成功！",{icon:1,time:1e3}),o.value=!1}function P(){o.value=!1}return(m,a)=>{const b=_e,h=oe,k=ae,y=Pe,A=le,E=ne,G=ie,K=we,D=Se,Q=ue,W=ze,J=se,H=re,X=ge,Y=te;return q(),fe(Y,{fluid:"true",class:"menu-box"},{default:t(()=>[e(G,null,{default:t(()=>[e(E,{style:{"margin-top":"10px"}},{default:t(()=>[e(A,null,{default:t(()=>[e(k,{md:5},{default:t(()=>[e(h,{label:"菜单名称","label-width":"80"},{default:t(()=>[e(b,{modelValue:f.value.name,"onUpdate:modelValue":a[0]||(a[0]=l=>f.value.name=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{md:5},{default:t(()=>[e(h,{label:"菜单地址","label-width":"80"},{default:t(()=>[e(b,{modelValue:f.value.address,"onUpdate:modelValue":a[1]||(a[1]=l=>f.value.address=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{md:5},{default:t(()=>[e(h,{label:"权限标识","label-width":"80"},{default:t(()=>[e(b,{modelValue:f.value.identifying,"onUpdate:modelValue":a[2]||(a[2]=l=>f.value.identifying=l),placeholder:"请输入",size:"sm","allow-clear":!0,style:{width:"98%"}},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{md:5},{default:t(()=>[e(h,{"label-width":"20"},{default:t(()=>[e(y,{style:{"margin-left":"20px"},type:"normal",size:"sm",onClick:M},{default:t(()=>[d(" 查询 ")]),_:1}),e(y,{size:"sm",onClick:u},{default:t(()=>[d(" 重置 ")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),x("div",Ne,[e(Q,{height:"100%",ref_key:"tableRef6",ref:C,loading:_.value,"children-column-name":"children",columns:U,"data-source":B,"default-toolbar":!0,"default-expand-all":N.value,"expand-index":1},{toolbar:t(()=>[e(y,{type:"primary",size:"sm",onClick:I},{default:t(()=>[d("获取选中数据")]),_:1}),e(y,{size:"sm",onClick:a[3]||(a[3]=l=>s("新建",null)),type:"normal"},{default:t(()=>[d(" 新建 ")]),_:1}),e(y,{size:"sm",onClick:a[4]||(a[4]=l=>w(!0))},{default:t(()=>[d("展开全部")]),_:1}),e(y,{size:"sm",onClick:a[5]||(a[5]=l=>w(!1))},{default:t(()=>[d("折叠全部")]),_:1})]),name:t(({row:l})=>[e(K,{class:be(l.icon)},null,8,["class"]),d("    "+ve(l.name),1)]),option:t(({row:l})=>[e(y,{onClick:a[6]||(a[6]=ee=>s("新建",null)),size:"xs",border:"blue","border-style":"dashed"},{default:t(()=>[d(" 添加 ")]),_:1}),e(y,{onClick:ee=>s("修改",l),size:"xs",border:"green","border-style":"dashed"},{default:t(()=>[d(" 修改 ")]),_:2},1032,["onClick"]),e(y,{onClick:c,size:"xs",border:"red","border-style":"dashed"},{default:t(()=>[d(" 删除 ")]),_:1})]),type:t(({row:l})=>[R(x("div",null,[e(D,{color:"#165DFF",variant:"light"},{default:t(()=>[d("目录")]),_:1})],512),[[j,l.type=="目录"]]),R(x("div",null,[e(D,{color:"#2dc570",variant:"light"},{default:t(()=>[d("菜单")]),_:1})],512),[[j,l.type=="菜单"]]),R(x("div",null,[e(D,{color:"#F5319D",variant:"light"},{default:t(()=>[d("外链")]),_:1})],512),[[j,l.type=="外链"]])]),_:1},8,["loading","default-expand-all"])]),e(X,{modelValue:o.value,"onUpdate:modelValue":a[14]||(a[14]=l=>o.value=l),title:n.value,area:["700px","370px"]},{default:t(()=>[x("div",Ce,[e(E,{model:r.value,ref_key:"layFormRef11",ref:$,required:""},{default:t(()=>[e(A,null,{default:t(()=>[e(k,{md:"12"},{default:t(()=>[e(h,{label:"菜单名称",prop:"name"},{default:t(()=>[e(b,{modelValue:r.value.name,"onUpdate:modelValue":a[7]||(a[7]=l=>r.value.name=l)},null,8,["modelValue"])]),_:1}),e(h,{label:"路由路径",prop:"routePath"},{default:t(()=>[e(b,{modelValue:r.value.routePath,"onUpdate:modelValue":a[8]||(a[8]=l=>r.value.routePath=l)},null,8,["modelValue"])]),_:1}),e(h,{label:"组件路径",prop:"compontPath"},{default:t(()=>[e(b,{modelValue:r.value.compontPath,"onUpdate:modelValue":a[9]||(a[9]=l=>r.value.compontPath=l)},null,8,["modelValue"])]),_:1}),e(h,{label:"图标",prop:"icon"},{default:t(()=>[e(b,{modelValue:r.value.icon,"onUpdate:modelValue":a[10]||(a[10]=l=>r.value.icon=l)},null,8,["modelValue"])]),_:1})]),_:1}),e(k,{md:"12"},{default:t(()=>[e(h,{label:"排序",prop:"sort"},{default:t(()=>[e(W,{style:{width:"100%"},modelValue:r.value.sort,"onUpdate:modelValue":a[11]||(a[11]=l=>r.value.sort=l),position:"right"},null,8,["modelValue"])]),_:1}),e(h,{label:"是否显示",prop:"isShow"},{default:t(()=>[e(H,{modelValue:r.value.isShow,"onUpdate:modelValue":a[12]||(a[12]=l=>r.value.isShow=l),style:{width:"100%"}},{default:t(()=>[e(J,{value:"是",label:"是"}),e(J,{value:"否",label:"否"})]),_:1},8,["modelValue"])]),_:1}),e(h,{label:"类型",prop:"type"},{default:t(()=>[e(b,{modelValue:r.value.type,"onUpdate:modelValue":a[13]||(a[13]=l=>r.value.type=l)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),x("div",$e,[e(y,{size:"sm",type:"primary",onClick:S},{default:t(()=>[d("保存")]),_:1}),e(y,{size:"sm",onClick:P},{default:t(()=>[d("取消")]),_:1})])])]),_:1},8,["modelValue","title"])]),_:1})}}});const Ie=xe(Me,[["__scopeId","data-v-4dfdee3e"]]);export{Ie as default};
